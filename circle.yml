machine:
  php:
    version: 7.0.4
  environment:
    COMPOSER_DISCARD_CHANGES: true
general:
  artifacts:
    - "build/"
    - "tmp/"
dependencies:
  cache_directories:
    - "vendor"
test:
  override:
    - ./vendor/bin/phpunit --fail-on-warning
    - ./vendor/bin/phpspec run --no-interaction
    - ./vendor/bin/phpstan analyse -l 4 -c phpstan.neon src tests
    - ant php-cs-fixer-check
    - ant phpcs-task
    - ant phpmd-task
